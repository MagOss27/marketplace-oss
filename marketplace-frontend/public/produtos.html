<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Lista de Produtos</title>
</head>
<body>
    <h2>Produtos Cadastrados</h2>
    <button id="listar">Listar Produtos</button>
    <div id="products"></div>

    <script>
        const backendUrl = 'https://marketplace-oss.onrender.com/';

        document.getElementById('listar').addEventListener('click', async () => {
            const res = await fetch(`${backendUrl}/products`);
            const products = await res.json();
            const container = document.getElementById('products');
            container.innerHTML = '';
            products.forEach(p => {
                container.innerHTML += `<p><strong>${p.title}</strong> - R$${p.price} <br> ${p.description} <br> Vendedor: ${p.user.name} (${p.user.email})</p><hr>`;
            });
        });
    </script>
</body>
</html>
